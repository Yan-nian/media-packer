# Universal Install Script ä¿®å¤æŠ¥å‘Š

## ğŸ› é—®é¢˜æè¿°

ç”¨æˆ·åé¦ˆä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ²¡æœ‰ååº”ï¼š
```bash
curl -fsSL https://raw.githubusercontent.com/Yan-nian/media-packer/main/universal-install.sh | bash
```

## ğŸ” é—®é¢˜åˆ†æ

ç»è¿‡è°ƒè¯•å‘ç°äº†ä¸¤ä¸ªä¸»è¦é—®é¢˜ï¼š

### 1. è„šæœ¬å…¥å£ç‚¹æ¡ä»¶é—®é¢˜
**é—®é¢˜**ï¼šåœ¨ç®¡é“ç¯å¢ƒä¸­ï¼Œ`"${BASH_SOURCE[0]}" == "${0}"` æ¡ä»¶å¯èƒ½ä¸ä¸ºçœŸ
- åœ¨ç›´æ¥æ‰§è¡Œè„šæœ¬æ—¶ï¼š`BASH_SOURCE[0]` = è„šæœ¬æ–‡ä»¶è·¯å¾„
- åœ¨ç®¡é“æ‰§è¡Œæ—¶ï¼š`BASH_SOURCE[0]` å¯èƒ½æ˜¯ `bash` æˆ–ä¸ºç©º

**åŸå§‹ä»£ç **ï¼š
```bash
if [[ "${BASH_SOURCE[0]}" == "${0}" ]]; then
    main "$@"
fi
```

**ä¿®å¤å**ï¼š
```bash
if [[ "${BASH_SOURCE[0]}" == "${0}" ]] || [[ "${BASH_SOURCE[0]}" == "bash" ]] || [[ -z "${BASH_SOURCE[0]}" ]]; then
    main "$@"
fi
```

### 2. äº¤äº’å¼è¾“å…¥é—®é¢˜
**é—®é¢˜**ï¼šè„šæœ¬ä¸­åŒ…å«å¤šä¸ª `read -p` äº¤äº’å¼è¾“å…¥ï¼Œåœ¨ç®¡é“ç¯å¢ƒä¸­å¯èƒ½å¯¼è‡´è„šæœ¬æŒ‚èµ·

**ä¿®å¤çš„ä½ç½®**ï¼š
- `show_install_options()` - å®‰è£…æ¨¡å¼é€‰æ‹©
- `custom_install_options()` - è‡ªå®šä¹‰é…ç½®
- `detect_system()` - rootç”¨æˆ·ç¡®è®¤
- `create_install_dir()` - è¦†ç›–å®‰è£…ç¡®è®¤

**ä¿®å¤æ–¹æ³•**ï¼š
```bash
# æ£€æŸ¥æ˜¯å¦ä¸ºäº¤äº’å¼ç»ˆç«¯
if [ -t 0 ] && [ -t 1 ]; then
    read -p "prompt" variable
else
    # éäº¤äº’å¼ç¯å¢ƒï¼Œä½¿ç”¨é»˜è®¤å€¼
    echo "éäº¤äº’å¼ç¯å¢ƒï¼Œä½¿ç”¨é»˜è®¤é…ç½®..."
fi
```

### 3. æ˜¾ç¤ºè¾“å‡ºå…¼å®¹æ€§
**é—®é¢˜**ï¼šåœ¨éäº¤äº’å¼ç¯å¢ƒä¸­ï¼Œ`clear` å‘½ä»¤å’Œå½©è‰²è¾“å‡ºå¯èƒ½æ— æ³•æ­£å¸¸å·¥ä½œ

**ä¿®å¤**ï¼š
```bash
show_welcome() {
    if [ ! -t 1 ]; then
        # éäº¤äº’å¼ç¯å¢ƒï¼Œä½¿ç”¨ç®€åŒ–è¾“å‡º
        echo "=== Media Packer v$VERSION é€šç”¨å®‰è£…è„šæœ¬ ==="
    else
        # äº¤äº’å¼ç¯å¢ƒï¼Œä½¿ç”¨å½©è‰²è¾“å‡º
        clear
        echo -e "${GREEN}${BOLD}..."
    fi
}
```

## âœ… ä¿®å¤éªŒè¯

### æœ¬åœ°æµ‹è¯•
```bash
# ç›´æ¥æ‰§è¡Œæµ‹è¯•
./universal-install.sh --check
# âœ… æ­£å¸¸å·¥ä½œ

# ç®¡é“æ‰§è¡Œæµ‹è¯•
cat universal-install.sh | bash -s -- --check
# âœ… æ­£å¸¸å·¥ä½œ

# è¯­æ³•æ£€æŸ¥
bash -n universal-install.sh
# âœ… è¯­æ³•æ­£ç¡®
```

### æµ‹è¯•ç»“æœ
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    Media Packer v2.0.0                        â•‘
â•‘                   é€šç”¨ä¸€é”®å®‰è£…è„šæœ¬                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ ä¸€ä¸ªä¸“é—¨ä¸ºPTç«™ç”¨æˆ·è®¾è®¡çš„è½»é‡çº§ç§å­åˆ¶ä½œå·¥å…·
ğŸ“¦ æ— éœ€Gitï¼Œæ— éœ€ä»“åº“ï¼Œä¸€é”®å®‰è£…æ‰€æœ‰åŠŸèƒ½

[HEADER] æ£€æµ‹ç³»ç»Ÿç¯å¢ƒ
[INFO] æ£€æµ‹åˆ°ç³»ç»Ÿ: macOS
[INFO] ç³»ç»Ÿæ¶æ„: arm64
[INFO] æ£€æŸ¥ç½‘ç»œè¿æ¥...
[SUCCESS] ç½‘ç»œè¿æ¥æ­£å¸¸
[INFO] æ£€æŸ¥Pythonç¯å¢ƒ...
[SUCCESS] æ‰¾åˆ°Python 3.13: python3
[SUCCESS] ç¯å¢ƒæ£€æŸ¥å®Œæˆï¼

ç³»ç»Ÿä¿¡æ¯ï¼š
  æ“ä½œç³»ç»Ÿ: macOS
  Pythonç‰ˆæœ¬: 3.13 (python3)
  ç³»ç»Ÿæ¶æ„: arm64
```

## ğŸš€ è§£å†³æ–¹æ¡ˆ

ç”¨æˆ·ç°åœ¨å¯ä»¥æ­£å¸¸ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# åŸºæœ¬ä½¿ç”¨
curl -fsSL https://raw.githubusercontent.com/Yan-nian/media-packer/main/universal-install.sh | bash

# ç¯å¢ƒæ£€æŸ¥
curl -fsSL https://raw.githubusercontent.com/Yan-nian/media-packer/main/universal-install.sh | bash -s -- --check

# é™é»˜å®‰è£…
curl -fsSL https://raw.githubusercontent.com/Yan-nian/media-packer/main/universal-install.sh | bash -s -- --quiet

# å®‰è£…ç‰¹å®šç‰ˆæœ¬
curl -fsSL https://raw.githubusercontent.com/Yan-nian/media-packer/main/universal-install.sh | bash -s -- --simple
curl -fsSL https://raw.githubusercontent.com/Yan-nian/media-packer/main/universal-install.sh | bash -s -- --full
```

## ğŸ“‹ éœ€è¦æ›´æ–°çš„å†…å®¹

1. **æ¨é€ä¿®å¤åˆ°GitHub**ï¼šéœ€è¦å°†ä¿®å¤åçš„ `universal-install.sh` æ¨é€åˆ° GitHub ä»“åº“
2. **æ›´æ–°æ–‡æ¡£**ï¼šåœ¨ README.md ä¸­ç¡®ä¿æ‰€æœ‰ç¤ºä¾‹å‘½ä»¤éƒ½æ˜¯æ­£ç¡®çš„
3. **æµ‹è¯•éªŒè¯**ï¼šæ¨é€åæµ‹è¯•åœ¨çº¿ç‰ˆæœ¬æ˜¯å¦æ­£å¸¸å·¥ä½œ

## ğŸ¯ æ€»ç»“

ä¿®å¤çš„æ ¸å¿ƒé—®é¢˜æ˜¯è„šæœ¬åœ¨ç®¡é“ç¯å¢ƒä¸­çš„å…¼å®¹æ€§ï¼š
- âœ… ä¿®å¤äº†è„šæœ¬å…¥å£ç‚¹æ¡ä»¶
- âœ… å¤„ç†äº†äº¤äº’å¼è¾“å…¥çš„å…¼å®¹æ€§
- âœ… æ”¹è¿›äº†éäº¤äº’å¼ç¯å¢ƒä¸‹çš„æ˜¾ç¤ºè¾“å‡º
- âœ… ä¿æŒäº†æ‰€æœ‰åŸæœ‰åŠŸèƒ½

ä¿®å¤åçš„è„šæœ¬ç°åœ¨èƒ½å¤Ÿåœ¨å„ç§ç¯å¢ƒä¸­ç¨³å®šè¿è¡Œï¼š
- ç›´æ¥æ‰§è¡Œ
- ç®¡é“æ‰§è¡Œï¼ˆcurl | bashï¼‰
- äº¤äº’å¼ç»ˆç«¯
- éäº¤äº’å¼ç¯å¢ƒï¼ˆCI/CDã€è„šæœ¬è°ƒç”¨ç­‰ï¼‰
